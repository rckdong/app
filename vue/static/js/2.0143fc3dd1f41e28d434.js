webpackJsonp([2],{"4hbP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),o=a.n(r),i=a("4YfN"),l=a.n(i),n=a("4YDf"),s=a("ucOY"),c=a("9rMa"),d=a("Du/2"),m=a("NBJj"),f=a("TVnW"),_=a("8+FI"),u={components:{List:n.a,FormDialog:s.a,ShowContract:m.a},computed:l()({},Object(c.c)(["global"])),filters:o()({},f.a),data:function(){var e=this;return{previewVisible:!1,currentId:"",searchPros:{keyWord:{isRequire:!1,isNeedInput:!1},searchForm:[{phone:"",status:1}]},formDialog:{exitOrder:{title:'<i class="el-icon-edit-outline"></i>申请退单',titleSalting:!1,rules:{type:[{required:!0,message:"请选择退单类型",trigger:"change"}],cancel_desc:[{validator:function(t,a,r){var o=e.formDialog.exitOrder.form[0],i=o.type,l=o.cancel_desc;if("其他原因"==i&&""==l)return r(new Error("请输入退订原因"));r()},trigger:"blur"}]},form:[{id:"",cancel_desc:"",type:"",typeOptions:[]}],onClose:function(t){e.formDialog.exitOrder.visible=!1,e.formDialog.exitOrder.form=[{id:"",desc:"",type:"",typeOptions:[]}],t&&e.RESPONSE_END({cancelLoadingBtn:!0})},submit:function(t){return e.$HTTP.marketSubmitCancelExit(t)},visible:!1},recordDetail:{title:'<i class="el-icon-view"></i>&nbsp;交车记录',titleSalting:!1,form:[{id:""}],onClose:function(t){e.formDialog.recordDetail.visible=!1,e.formDialog.recordDetail.form=[{id:""}],e.LOADING_BTN("")},submit:function(t){return e.formDialog.recordDetail.visible=!1},visible:!1}},tableProps:[{tableData:[],currentPage:1,method:"get",getTabData:function(t){return e.$HTTP.marketContractList(t)},operatorWidth:195,operator:[{name:"edit",text:"查看合同",icon:"el-icon-view",callback:function(t,a,r){return e.ContractPreview(r.id)}},{name:"exit",text:"申请退单",icon:"el-icon-edit-outline",callback:function(t,a,r){return e.openExitForm(r.id)},isDisable:function(t,a,r){return e.isDisableExitBtn(t)}},{name:"settlement",text:"生成结算",icon:"el-icon-edit-outline",callback:function(t,a,r){return e.settlementForm(r.id)},isDisable:function(t,a,r){return e.isSettlement(t)}},{name:"show",text:"资料查看",icon:"el-icon-edit-outline",callback:function(t,a,r){return e.showUpload(r.id)}}],field:["创建时间","手机号码","交车日期/记录","订车日期"],fieldMax:3,checkedField:[],checkedFieldCallback:function(t){e.tableProps[0].checkedField=t}}],trafficRecord:[]}},methods:l()({},Object(c.b)([d.a,d.d]),{openExitForm:function(e){var t=this;this.formDialog.exitOrder.form[0].id=e,this.$HTTP.marketCancelExitDesc({id:e}).then(function(e){t.formDialog.exitOrder.form[0].typeOptions=e.data.data,t.formDialog.exitOrder.visible=!0,t.RESPONSE_END({cancelLoadingBtn:!0})})},settlementForm:function(e){var t=this;this.$HTTP.marketSettlementCreate({id:e}).then(function(e){_.a.notify(e.data.message,"success"),t.RESPONSE_END("")}).catch(function(e){_.a.notify("生成失败","warning"),t.RESPONSE_END("")})},showUpload:function(e){this.$router.push({path:"/datumUploadShow",query:{id:e,d:(new Date).getTime()}})},isDisableExitBtn:function(e){return 0!=e.is_cancel&&3!=e.is_cancel},isSettlement:function(e){return 0!=e.is_settlement},indexMethod:function(e){return e+1},handRecord:function(e){var t=this;this.LOADING_BTN("record_"+e.id),this.$HTTP.marketHandRecord({id:e.id}).then(function(e){t.trafficRecord=e.data.data,t.formDialog.recordDetail.visible=!0}).catch(function(e){t.LOADING_BTN("")})},ContractPreview:function(e){this.previewVisible=!0,this.currentId=e+""},onActionComplete:function(e){this.LOADING_BTN("")},onContractClose:function(){this.previewVisible=!1,this.currentId=""}})},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("List",{attrs:{searchPros:e.searchPros,tableProps:e.tableProps,refresh:e.global.refreshTime,response:e.global.responseEnd}},[a("el-breadcrumb",{attrs:{slot:"breadcrumb",separator:"/"},slot:"breadcrumb"},[a("el-breadcrumb-item",[e._v("销售经理人")]),e._v(" "),a("el-breadcrumb-item",[e._v("销售主页面")]),e._v(" "),a("el-breadcrumb-item",[e._v("已完成合同")])],1),e._v(" "),a("template",{slot:"searchContainer"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"手机号码"},model:{value:e.searchPros.searchForm[0].phone,callback:function(t){e.$set(e.searchPros.searchForm[0],"phone",t)},expression:"searchPros.searchForm[0].phone"}}),e._v(" "),a("el-input",{staticClass:"hide",attrs:{placeholder:"默认搜索条件"},model:{value:e.searchPros.searchForm[0].status,callback:function(t){e.$set(e.searchPros.searchForm[0],"status",t)},expression:"searchPros.searchForm[0].status"}})],1),e._v(" "),a("template",{slot:"tableField"},[e.tableProps[0].deleteMulti?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"contract_number",align:"center",label:"合同编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"合同类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterContractType(t.row.contract_type))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"客户名称",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.nickname))])]}}])}),e._v(" "),-1!=e.tableProps[0].checkedField.indexOf("手机号码")?a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号码",width:"110"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"brand_name",align:"center",label:"品牌名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"car_model",width:"300",align:"center",label:"车型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"guidance_price",align:"center",label:"指导价格"}}),e._v(" "),-1!=e.tableProps[0].checkedField.indexOf("订车日期")?a("el-table-column",{attrs:{align:"center",label:"订车日期",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterDate(t.row.book_time))}})]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"交车日期/记录",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"pointer",class:e.global.loadingBtn=="record_"+t.row.id?"el-icon-loading":"el-icon-info",on:{click:function(a){e.handRecord(t.row)}}}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.$options.filters.filterDate(t.row.get_time))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"成交价",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterCNYFormatting(t.row.transaction_price))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"合同状态",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.is_cancel?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.false_reason,placement:"top-end"}},[a("i",{staticClass:"el-icon-info"})]):e._e(),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.$options.filters.filterContractIsCancel(t.row.is_cancel))}})]}}])}),e._v(" "),-1!=e.tableProps[0].checkedField.indexOf("创建时间")?a("el-table-column",{attrs:{align:"center",label:"创建时间",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterDate(t.row.create_at))}})]}}])}):e._e()],1)],2),e._v(" "),a("FormDialog",{attrs:{visible:e.formDialog.exitOrder.visible,form:e.formDialog.exitOrder.form,rules:e.formDialog.exitOrder.rules,submitData:e.formDialog.exitOrder.submit,title:e.formDialog.exitOrder.title,titleSalting:e.formDialog.exitOrder.titleSalting},on:{onClose:e.formDialog.exitOrder.onClose}},[a("template",{slot:"formElements"},[a("el-form-item",{attrs:{label:"请选择类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.formDialog.exitOrder.form[0].type,callback:function(t){e.$set(e.formDialog.exitOrder.form[0],"type",t)},expression:"formDialog.exitOrder.form[0].type"}},e._l(e.formDialog.exitOrder.form[0].typeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"其他原因"==e.formDialog.exitOrder.form[0].type,expression:"formDialog.exitOrder.form[0].type=='其他原因'"}],attrs:{prop:"cancel_desc",label:"退订原因"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formDialog.exitOrder.form[0].cancel_desc,callback:function(t){e.$set(e.formDialog.exitOrder.form[0],"cancel_desc",t)},expression:"formDialog.exitOrder.form[0].cancel_desc"}})],1)],1)],2),e._v(" "),a("FormDialog",{attrs:{visible:e.formDialog.recordDetail.visible,form:e.formDialog.recordDetail.form,rules:e.formDialog.recordDetail.rules,submitData:e.formDialog.recordDetail.submit,title:e.formDialog.recordDetail.title,titleSalting:e.formDialog.recordDetail.titleSalting,width:"41rem"},on:{onClose:e.formDialog.recordDetail.onClose}},[a("template",{slot:"formElements"},[a("span",{staticClass:"dialog-footer",staticStyle:{position:"absolute",right:"23px",top:"10px"}},[a("el-button",{attrs:{icon:"el-icon-circle-close",round:""},on:{click:e.formDialog.recordDetail.onClose}},[e._v("关闭")])],1),e._v(" "),a("el-table",{staticStyle:{width:"42rem","margin-top":"-20px"},attrs:{data:e.trafficRecord,stripe:""}},[a("el-table-column",{attrs:{align:"center",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"记录内容",width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.content))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"记录时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterDate(t.row.create_at))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作人",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.username))])]}}])})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],2),e._v(" "),e.previewVisible?a("ShowContract",{attrs:{isUpdate:!1,id:e.currentId},on:{complete:e.onActionComplete,onContractClose:e.onContractClose}}):e._e()],1)},staticRenderFns:[]};var h=a("vSla")(u,p,!1,function(e){a("XvkI")},"data-v-1dbcfec6",null);t.default=h.exports},FZ00:function(e,t){},XvkI:function(e,t){},"umi+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),o=a.n(r),i=a("aA9S"),l=a.n(i),n=a("4YfN"),s=a.n(n),c=a("9rMa"),d=a("Du/2"),m=a("4YDf"),f=a("ucOY"),_=a("NBJj"),u=a("xaJ4"),p=a("0NQ/"),h=a("JuB6"),b=a("TVnW"),g=a("8+FI"),v={name:"unFinishList",components:{List:m.a,ShowContract:_.a,UpdateContract:u.a,FormDialog:f.a,addBudge:p.a,showBudge:h.a},computed:s()({},Object(c.c)(["global"])),watch:{"formDialog.handCar.dialogIsOpen":{deep:!0,handler:function(e,t){var a=this;e&&this.$HTTP.marketApplyTraffic({id:this.currentId}).then(function(e){a.formDialog.handCar.form=l()(a.formDialog.handCar.form,e.data.data),a.formDialog.handCar.visible=!0,console.log(e.data.data)}).catch(function(e){console.log(123),a.formDialog.handCar.dialogIsOpen=!1,g.a.errorMessage(e)})}},"global.notify":{deep:!0,handler:function(e,t){var a=this,r=this.$store.state.global.notify.slice();e.map(function(e,t){switch(a.currentId=e.value,e.action){case"PreviewContract":a.previewVisible=!0,a.updateVisible=!1;break;case"updateContract":a.previewVisible=!1,a.updateVisible=!0}r.splice(t,1),a.NOTIFY(r)})}}},filters:l()({},b.a),data:function(){var e=this;return{searchPros:{keyWord:{isRequire:!1,isNeedInput:!1},searchForm:[{phone:"",status:0}]},formDialog:{exitOrder:{title:'<i class="el-icon-edit-outline"></i>申请退单',titleSalting:!1,rules:{type:[{required:!0,message:"请选择退单类型",trigger:"change"}],cancel_desc:[{validator:function(t,a,r){var o=e.formDialog.exitOrder.form[0],i=o.type,l=o.cancel_desc;if("其他原因"==i&&""==l)return r(new Error("请输入退订原因"));r()},trigger:"blur"}]},form:[{id:"",cancel_desc:"",type:"",typeOptions:["按揭不通过","价格过高","服务不好","其他原因"]}],onClose:function(t){e.onActionComplete(),e.formDialog.exitOrder.visible=!1,e.formDialog.exitOrder.form[0].id="",e.formDialog.exitOrder.form[0].desc="",e.formDialog.exitOrder.form[0].type="",e.LOADING_BTN(""),t&&e.RESPONSE_END({cancelLoadingBtn:!0})},submit:function(t){return e.$HTTP.marketSubmitCancelExit(t)},visible:!1},handCar:{title:'<i class="el-icon-edit-outline"></i>申请交车',titleSalting:!1,dialogIsOpen:!1,rules:{type:[{required:!0,message:"请选择退单类型",trigger:"change"}],cancel_desc:[{validator:function(t,a,r){var o=e.formDialog.exitOrder.form[0],i=o.type,l=o.cancel_desc;if("其他原因"==i&&""==l)return r(new Error("请输入退订原因"));r()},trigger:"blur"}]},form:{contact_id:"",brand_name:"",car_model:"",car_color:"",car_selection:"",guidance_price:0,frame_number:"",transaction_price:0,pay_money:0,un_pay:0,buy_type:0,buy_type_desc:"",is_car_check:0,is_car_check_push:0,car_check_ps:"",car_check_select:[],is_process_check:0,is_process_check_push:0,process_check_ps:"",process_check_select:[],is_product_check:0,is_product_check_push:0,product_check_ps:"",product_check_select:[],is_other_check:0,is_other_check_push:0,is_checkin:0,is_mortgage:0,ps:""},onClose:function(t){e.formDialog.handCar.visible=!1,e.formDialog.handCar.dialogIsOpen=!1,e.formDialog.handCar.form={contact_id:"",brand_name:"",car_model:"",car_color:"",car_selection:"",guidance_price:0,frame_number:"",transaction_price:0,pay_money:0,un_pay:0,buy_type:0,buy_type_desc:"",is_car_check:0,is_car_check_push:0,car_check_ps:"",car_check_select:[],is_process_check:0,is_process_check_push:0,process_check_ps:"",process_check_select:[],is_product_check:0,is_product_check_push:0,product_check_ps:"",product_check_select:[],is_other_check:0,is_other_check_push:0,is_checkin:0,is_mortgage:0,ps:""},t&&e.RESPONSE_END({cancelLoadingBtn:!0})},submit:function(t){var a={car_check_select:[],process_check_select:[],product_check_select:[],id:e.formDialog.handCar.form.contact_id,is_checkin:e.formDialog.handCar.form.is_checkin?1:0,is_mortgage:e.formDialog.handCar.form.is_mortgage?1:0,ps:e.formDialog.handCar.form.ps};e.formDialog.handCar.form.car_check_select.map(function(e,t){e.is_check&&a.car_check_select.push(e.key)}),e.formDialog.handCar.form.process_check_select.map(function(e,t){e.is_check&&a.process_check_select.push(e.key)}),e.formDialog.handCar.form.product_check_select.map(function(e,t){e.is_check&&a.product_check_select.push(e.key)}),e.$HTTP.marketDoApply(a).then(function(t){e.formDialog.handCar.visible=!1,g.a.notify("操作成功"),e.formDialog.handCar.onClose(!0)}).catch(function(t){e.formDialog.handCar.visible=!1,g.a.notify("服务器繁忙，请稍后再试","error")})},visible:!1}},tableProps:[{tableData:[],currentPage:1,method:"get",getTabData:function(t){return e.$HTTP.marketContractList(t)},operatorWidth:195,field:["创建时间","手机号码","订车日期"],fieldMax:3,checkedField:[],checkedFieldCallback:function(t){e.tableProps[0].checkedField=t}}],previewVisible:!1,updateVisible:!1,addBudgeVisible:!1,showBudgeVisible:!1,currentId:-1}},methods:s()({},Object(c.b)([d.a,d.d,d.b]),{isDisableEdit:function(){return 0==this.formDialog.handCar.form.is_pass||1==this.formDialog.handCar.form.is_pass},onActionComplete:function(){this.$refs["actionNode_"+this.currentId].innerHTML='<i class="el-icon-setting"></i>&nbsp;操作选项'},onContractClose:function(e){this.$refs["actionNode_"+this.currentId].innerHTML='<i class="el-icon-setting"></i>&nbsp;操作选项',this.previewVisible=!1,this.updateVisible=!1,this.addBudgeVisible=!1,this.showBudgeVisible=!1,this.currentId="",e&&this.RESPONSE_END("")},handleCommand:function(e){var t=this,a=e.split("_"),r=o()(a,2),i=r[0],l=r[1];switch(this.currentId=l,this.$refs["actionNode_"+this.currentId].innerHTML='<i class="el-icon-loading"></i>请稍后...',i){case"preview":this.previewVisible=!0;break;case"update":this.updateVisible=!0;break;case"getCar":break;case"handCar":this.formDialog.handCar.form.contact_id=l,this.formDialog.handCar.dialogIsOpen=!0;break;case"unsubscribe":this.formDialog.exitOrder.form[0].id=l,this.formDialog.exitOrder.visible=!0;break;case"showUpload":this.$router.push({path:"/datumUploadShow",query:{id:this.currentId,d:(new Date).getTime()}});break;case"action":this.$confirm('您确认将当前合同转为转定车合同吗?<br /><span style="font-size: 12px" class="dangerColor">(此操作不可恢复，请谨慎操作)</span>',"温馨提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then(function(e){t.$HTTP.marketChangeContractType({id:l}).then(function(e){g.a.notify("转定车合同成功","success"),t.RESPONSE_END("")}).catch(function(e){g.a.notify("转定车合同失败,请稍后再试","warning")})}).catch(function(){});break;case"addBudget":this.addBudgeVisible=!0;break;case"showBudget":this.showBudgeVisible=!0}},openExitForm:function(e){var t=this;this.formDialog.exitOrder.form[0].id=e,this.$HTTP.marketCancelExitDesc({id:e}).then(function(e){t.formDialog.exitOrder.form[0].typeOptions=e.data.data,t.formDialog.exitOrder.visible=!0,t.RESPONSE_END({cancelLoadingBtn:!0})})},isDisableExitBtn:function(e){return 0!=e.is_cancel&&3!=e.is_cancel},indexMethod:function(e){return e+1},handRecord:function(e){this.LOADING_BTN("record"),this.formDialog.recordDetail.visible=!0}})},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("List",{attrs:{searchPros:e.searchPros,tableProps:e.tableProps,refresh:e.global.refreshTime,response:e.global.responseEnd}},[a("el-breadcrumb",{attrs:{slot:"breadcrumb",separator:"/"},slot:"breadcrumb"},[a("el-breadcrumb-item",[e._v("销售经理人")]),e._v(" "),a("el-breadcrumb-item",[e._v("销售主页面")]),e._v(" "),a("el-breadcrumb-item",[a("span",{staticClass:"defaultColor"},[e._v("未完成合同")])])],1),e._v(" "),a("template",{slot:"searchContainer"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"手机号码"},model:{value:e.searchPros.searchForm[0].phone,callback:function(t){e.$set(e.searchPros.searchForm[0],"phone",t)},expression:"searchPros.searchForm[0].phone"}}),e._v(" "),a("el-input",{staticClass:"hide",attrs:{placeholder:"默认搜索条件"},model:{value:e.searchPros.searchForm[0].status,callback:function(t){e.$set(e.searchPros.searchForm[0],"status",t)},expression:"searchPros.searchForm[0].status"}})],1),e._v(" "),a("template",{slot:"tableField"},[e.tableProps[0].deleteMulti?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"contract_number",align:"center",label:"合同编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"合同类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterContractType(t.row.contract_type))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"客户名称",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.nickname))])]}}])}),e._v(" "),-1!=e.tableProps[0].checkedField.indexOf("手机号码")?a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号码",width:"110"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"brand_name",align:"center",label:"品牌名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"car_model",align:"center",width:"300",label:"车型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"指导价格",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterCNYFormatting(t.row.guidance_price))}})]}}])}),e._v(" "),-1!=e.tableProps[0].checkedField.indexOf("订车日期")?a("el-table-column",{attrs:{align:"center",label:"订车日期",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterDate(t.row.book_time))}})]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"成交价",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterCNYFormatting(t.row.transaction_price))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"合同类型",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.is_cancel?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.false_reason,placement:"top-end"}},[a("i",{staticClass:"el-icon-info"})]):e._e(),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.$options.filters.filterContractType(t.row.contract_type))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"合同状态",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.is_cancel||7==t.row.is_cancel||9==t.row.is_cancel||5==t.row.is_cancel?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.false_reason,placement:"top-end"}},[a("i",{staticClass:"el-icon-info"})]):e._e(),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.$options.filters.filterContractIsCancel(t.row.is_cancel))}})]}}])}),e._v(" "),-1!=e.tableProps[0].checkedField.indexOf("创建时间")?a("el-table-column",{attrs:{align:"center",label:"创建时间",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{domProps:{innerHTML:e._s(e.$options.filters.filterDate(t.row.create_at))}})]}}])}):e._e()],1),e._v(" "),a("template",{slot:"action"},[a("el-table-column",{attrs:{align:"center",label:"操作",width:200},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{on:{command:e.handleCommand}},[a("el-button",{staticClass:"pointer",attrs:{type:"primary"}},[a("span",{ref:"actionNode_"+t.row.id},[a("i",{staticClass:"el-icon-setting"}),e._v(" 操作选项")]),e._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon&#45;&#45;right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"preview_"+t.row.id}},[e._v("合同预览")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"update_"+t.row.id}},[e._v("修改合同")]),e._v(" "),2==t.row.contract_type?a("el-dropdown-item",{attrs:{command:"action_"+t.row.id}},[e._v("转定车合同\n                            ")]):e._e(),e._v(" "),2!=t.row.contract_type?a("el-dropdown-item",{attrs:{command:"handCar_"+t.row.id}},[e._v("申请交车")]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"unsubscribe_"+t.row.id}},[e._v("申请退订")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"showBudget_"+t.row.id}},[e._v("查看预算")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"showUpload_"+t.row.id}},[e._v("资料查看")])],1)],1)]}}])})],1)],2),e._v(" "),e.formDialog.handCar.visible?a("FormDialog",{attrs:{visible:e.formDialog.handCar.visible,form:[e.formDialog.handCar.form],rules:e.formDialog.handCar.rules,title:e.formDialog.handCar.title,titleSalting:e.formDialog.handCar.titleSalting,width:"75%"}},[a("template",{slot:"formElements"},[a("p",{staticClass:"handCarLine defaultColor"},[e._v("车辆信息")]),e._v(" "),a("ul",{staticClass:"infoList"},[a("li",[a("label",[e._v("品牌:")]),a("span",[a("el-tag",[e._v(e._s(e.formDialog.handCar.form.brand_name))])],1)]),e._v(" "),a("li",[a("label",[e._v("车型:")]),a("span",[a("el-tag",[a("span",[e._v(e._s(e.formDialog.handCar.form.car_model))])])],1)]),e._v(" "),a("li",[a("label",[e._v("指导价:")]),a("span",[a("el-tag",[a("span",[e._v("￥"+e._s(e.formDialog.handCar.form.guidance_price))])])],1)]),e._v(" "),a("li",[a("label",[e._v("颜色:")]),a("span",[a("el-tag",[a("span",[e._v(e._s(e.formDialog.handCar.form.car_color))])])],1)]),e._v(" "),a("li",[a("label",[e._v("选配:")]),e._v(" "),a("div",{staticClass:"desc"},[e._v("\n                        "+e._s(e.formDialog.handCar.form.car_selection)+"\n                    ")])]),e._v(" "),a("li",[a("label",[e._v("车架号:")]),a("span",[a("el-tag",[a("span",[e._v(e._s(e.formDialog.handCar.form.frame_number))])])],1)]),e._v(" "),a("li",[a("label",[e._v("合同总价:")]),a("span",[a("el-tag",[a("span",[e._v("￥"+e._s(e.formDialog.handCar.form.transaction_price))])])],1)]),e._v(" "),a("li",[a("label",[e._v("已收款:")]),a("span",[a("el-tag",[a("span",[e._v("￥"+e._s(e.formDialog.handCar.form.pay_money))])])],1)]),e._v(" "),a("li",[a("label",[e._v("未收款:")]),a("span",[a("el-tag",[a("span",[e._v("￥"+e._s(e.formDialog.handCar.form.un_pay))])])],1)])]),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"conType  defaultBg "},[e._v("车辆检查")]),e._v(" "),a("div",{staticClass:"itemCon"},[e.isDisableEdit()?a("div",e._l(e.formDialog.handCar.form.car_check_select,function(t,r){return a("el-checkbox",{attrs:{label:t.value,disabled:""},model:{value:t.is_check,callback:function(a){e.$set(t,"is_check",a)},expression:"item.is_check"}})})):a("div",e._l(e.formDialog.handCar.form.car_check_select,function(t,r){return a("el-checkbox",{attrs:{label:t.value},model:{value:t.is_check,callback:function(a){e.$set(t,"is_check",a)},expression:"item.is_check"}})}))]),e._v(" "),a("div",{staticClass:"text dangerColor"},[e._v("\n                    "+e._s(e.formDialog.handCar.form.car_check_ps)+"\n                ")])]),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"conType successBg "},[e._v("车辆手续")]),e._v(" "),a("div",{staticClass:"itemCon"},[e.isDisableEdit()?a("div",e._l(e.formDialog.handCar.form.process_check_select,function(t,r){return a("el-checkbox",{attrs:{label:t.value,disabled:""},model:{value:t.is_check,callback:function(a){e.$set(t,"is_check",a)},expression:"item.is_check"}})})):a("div",e._l(e.formDialog.handCar.form.process_check_select,function(t,r){return a("el-checkbox",{attrs:{label:t.value},model:{value:t.is_check,callback:function(a){e.$set(t,"is_check",a)},expression:"item.is_check"}})}))]),e._v(" "),a("div",{staticClass:"text dangerColor"},[e._v("\n                    "+e._s(e.formDialog.handCar.form.process_check_ps)+"\n                ")])]),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"conType warningBg "},[e._v("车辆精品")]),e._v(" "),a("div",{staticClass:"itemCon"},[e.isDisableEdit()?a("div",e._l(e.formDialog.handCar.form.product_check_select,function(t,r){return a("el-checkbox",{attrs:{label:t.value,disabled:""},model:{value:t.is_check,callback:function(a){e.$set(t,"is_check",a)},expression:"item.is_check"}})})):a("div",e._l(e.formDialog.handCar.form.product_check_select,function(t,r){return a("el-checkbox",{attrs:{label:t.value},model:{value:t.is_check,callback:function(a){e.$set(t,"is_check",a)},expression:"item.is_check"}})}))]),e._v(" "),a("div",{staticClass:"text dangerColor"},[e._v("\n                    "+e._s(e.formDialog.handCar.form.product_check_ps)+"\n                ")])]),e._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"conType dangerBg",staticStyle:{"font-size":"12px"}},[e._v("未上牌/抵押风险责任书")]),e._v(" "),a("div",{staticClass:"itemCon"},[a("div",[e.isDisableEdit()?a("div",[a("el-checkbox",{attrs:{disabled:"",label:"未上牌"},model:{value:e.formDialog.handCar.form.is_checkin,callback:function(t){e.$set(e.formDialog.handCar.form,"is_checkin",t)},expression:"formDialog.handCar.form.is_checkin"}}),e._v(" "),a("el-checkbox",{attrs:{disabled:"",label:"未抵押"},model:{value:e.formDialog.handCar.form.is_mortgage,callback:function(t){e.$set(e.formDialog.handCar.form,"is_mortgage",t)},expression:"formDialog.handCar.form.is_mortgage"}})],1):a("div",[a("el-checkbox",{attrs:{label:"未上牌"},model:{value:e.formDialog.handCar.form.is_checkin,callback:function(t){e.$set(e.formDialog.handCar.form,"is_checkin",t)},expression:"formDialog.handCar.form.is_checkin"}}),e._v(" "),a("el-checkbox",{attrs:{label:"未抵押"},model:{value:e.formDialog.handCar.form.is_mortgage,callback:function(t){e.$set(e.formDialog.handCar.form,"is_mortgage",t)},expression:"formDialog.handCar.form.is_mortgage"}})],1)]),e._v(" "),e.isDisableEdit()?a("el-input",{staticClass:"area",attrs:{disabled:"",type:"textarea",placeholder:"请输入内容"},model:{value:e.formDialog.handCar.form.ps,callback:function(t){e.$set(e.formDialog.handCar.form,"ps",t)},expression:"formDialog.handCar.form.ps"}}):a("el-input",{staticClass:"area",attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.formDialog.handCar.form.ps,callback:function(t){e.$set(e.formDialog.handCar.form,"ps",t)},expression:"formDialog.handCar.form.ps"}})],1),e._v(" "),a("div",{staticClass:"text dangerColor"},[e._v("\n                    "+e._s(e.formDialog.handCar.form.other_check_ps)+"\n                ")])]),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"其他原因"==e.formDialog.handCar.form.type,expression:"formDialog.handCar.form.type=='其他原因'"}],attrs:{prop:"cancel_desc",label:"退订原因"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formDialog.handCar.form.cancel_desc,callback:function(t){e.$set(e.formDialog.handCar.form,"cancel_desc",t)},expression:"formDialog.handCar.form.cancel_desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{position:"relative",height:"30px"},attrs:{slot:"footer"},slot:"footer"},[a("span",{staticStyle:{position:"absolute",right:"0"}},[2==e.formDialog.handCar.form.is_pass||-1==e.formDialog.handCar.form.is_pass?a("el-button",{attrs:{loading:"formSubmit"==e.global.loadingBtn,type:"primary"},on:{click:e.formDialog.handCar.submit}},[e._v("申请交车放行")]):e._e(),e._v(" "),0==e.formDialog.handCar.form.is_pass?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"资料已经提交，请耐心等待",placement:"top-start"}},[a("el-button",{attrs:{type:"info",disable:""}},[e._v("等待确认中...")])],1):e._e(),e._v(" "),a("el-button",{on:{click:e.formDialog.handCar.onClose}},[e._v("关 闭")])],1)])],2):e._e(),e._v(" "),e.previewVisible?a("ShowContract",{attrs:{id:e.currentId},on:{complete:e.onActionComplete,onContractClose:e.onContractClose}}):e._e(),e._v(" "),a("FormDialog",{attrs:{visible:e.formDialog.exitOrder.visible,form:e.formDialog.exitOrder.form,rules:e.formDialog.exitOrder.rules,submitData:e.formDialog.exitOrder.submit,title:e.formDialog.exitOrder.title,titleSalting:e.formDialog.exitOrder.titleSalting},on:{onClose:e.formDialog.exitOrder.onClose}},[a("template",{slot:"formElements"},[a("el-form-item",{attrs:{label:"请选择类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.formDialog.exitOrder.form[0].type,callback:function(t){e.$set(e.formDialog.exitOrder.form[0],"type",t)},expression:"formDialog.exitOrder.form[0].type"}},e._l(e.formDialog.exitOrder.form[0].typeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"其他原因"==e.formDialog.exitOrder.form[0].type,expression:"formDialog.exitOrder.form[0].type=='其他原因'"}],attrs:{prop:"cancel_desc",label:"退订原因"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formDialog.exitOrder.form[0].cancel_desc,callback:function(t){e.$set(e.formDialog.exitOrder.form[0],"cancel_desc",t)},expression:"formDialog.exitOrder.form[0].cancel_desc"}})],1)],1)],2),e._v(" "),e.updateVisible?a("UpdateContract",{attrs:{id:e.currentId},on:{complete:e.onActionComplete,onContractClose:e.onContractClose}}):e._e(),e._v(" "),e.addBudgeVisible?a("addBudge",{attrs:{dialogVisible:e.addBudgeVisible,id:e.currentId},on:{complete:e.onActionComplete,onContractClose:e.onContractClose}}):e._e(),e._v(" "),e.showBudgeVisible?a("showBudge",{attrs:{dialogVisible:e.showBudgeVisible,id:e.currentId},on:{complete:e.onActionComplete,onContractClose:e.onContractClose}}):e._e()],1)},staticRenderFns:[]};var D=a("vSla")(v,C,!1,function(e){a("FZ00")},"data-v-4a2bab38",null);t.default=D.exports}});