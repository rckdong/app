webpackJsonp([8],{EyyQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("4YfN"),a=i.n(n),s=i("Vo50"),o=i("JuB6"),c=i("0NQ/"),r=i("xaJ4"),l=i("NBJj"),d=i("8+FI"),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wscn-http404-container"},[i("div",{staticClass:"wscn-http404"},[i("div",{staticClass:"pic-404"},[t._t("hintIcon",[i("i",{staticClass:"el-icon-success"})])],2),t._v(" "),i("div",{staticClass:"bullshit"},[i("div",{staticClass:"bullshit__oops"},[t._v(t._s(t.titleMsg))]),t._v(" "),i("div",{staticClass:"bullshit__headline"},[t._v(t._s(t.headline))]),t._v(" "),i("div",{staticClass:"bullshit__info",domProps:{innerHTML:t._s(t.subheading)}}),t._v(" "),t._t("actionButton")],2)])])},staticRenderFns:[]};var p=i("vSla")({name:"index",props:{titleMsg:{default:"OOPS!"},subheading:{default:"请检查您输入的网址是否正确，请点击以下按钮返回主页!"},headline:{default:"网管说这个页面你不能进......"}}},u,!1,function(t){i("fDb3")},"data-v-5e705612",null).exports,_=i("9rMa"),h=i("Du/2"),v={name:"enteringContract",components:{marketForm:s.a,showBudge:o.a,addBudge:c.a,UpdateContract:r.a,ShowContract:l.a,hintPage:p},data:function(){return{active:1,currentId:"",showBudgeVisible:!1,addBudgeVisible:!1,showUpdateContract:!1,updateBudgeVisible:!1,previewContractVisible:!1,successVisible:!1,ruleForm:{user_id:"",contract_type:1,phone:"",nickname:"",identify:"",emergency_phone:"",emergency_contact:"",province_id:"",city_id:"",car_type_desc:"",car_type:0,brand_id:"",car_model:"",guidance_price:"",car_color:"",car_selection:"",get_time:"待定",buy_type:0,buy_type_desc:"",deposit_price:"",transaction_price:"",insurance_ids:[],products_ids:[],license:"",remarks:"",purchase_tax:0}}},computed:a()({},Object(_.c)(["global"]),{message:function(){return"网管说这个页面你不能进......"}}),watch:{"global.notify":{deep:!0,handler:function(t,e){if(console.log(t),t)switch(this.active=t.stepNumber,this.currentId=t.id,t.action){case"inputContract":this.showUpdateContract=!1;break;case"updateContract":this.showUpdateContract=!0;break;case"inputBudget":this.addBudgeVisible=!0,this.updateBudgeVisible=!1;break;case"updateBudget":this.updateBudgeVisible=!0,this.addBudgeVisible=!1;break;case"showBudget":this.showBudgeVisible=!0;break;case"success":this.successVisible=!0}}}},created:function(){},methods:a()({},Object(_.b)([h.a,h.b]),{input:function(){window.location.reload()},go:function(){this.$router.push({path:"/marketContractUnfinished",params:{}})},onActionComplete:function(){console.log(1),this.LOADING_BTN("")},onContractClose:function(t){this.showBudgeVisible=!1,this.addBudgeVisible=!1,this.showUpdateContract=!1,this.previewContractVisible=!1,this.currentId=""},back:function(){switch(this.active){case 2:this.NOTIFY({action:"updateContract",stepNumber:1,id:this.currentId+""});break;case 3:this.NOTIFY({action:"updateBudget",stepNumber:2,id:this.currentId+""})}},previewContract:function(){this.LOADING_BTN("previewContract"),this.previewContractVisible=!0},saveContract:function(){var t=this;this.$HTTP.marketContactChangeFormal({id:this.currentId}).then(function(e){d.a.notify("合同创建成功"),t.NOTIFY({action:"success",stepNumber:4,id:t.currentId+""})}).catch(function(t){d.a.notify("合同创建失败","error")})}})},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"20px",background:"#FFF"}},[i("el-steps",{staticStyle:{"margin-bottom":"30px"},attrs:{active:t.active,simple:""}},[i("el-step",{attrs:{title:"录入合同",icon:"el-icon-edit"}}),t._v(" "),i("el-step",{attrs:{title:"录入预算",icon:"el-icon-document"}}),t._v(" "),i("el-step",{attrs:{title:"预览",icon:"el-icon-printer"}}),t._v(" "),i("el-step",{attrs:{title:"合同提交",icon:"el-icon-upload"}})],1),t._v(" "),4==t.active?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("div",{staticStyle:{position:"relative","margin-top":"280px"}},[i("hintPage",{staticStyle:{"padding-bottom":"150px"},attrs:{titleMsg:"保存成功!",headline:"",subheading:"请您前往销售经理人->未完成合同查看，或者选择继续录入合同！"}},[i("template",{slot:"actionButton"},[i("el-button",{attrs:{round:""},on:{click:t.input}},[i("i",{staticClass:"el-icon-edit"}),t._v(" 继续录入合同")]),t._v(" "),i("el-button",{attrs:{type:"primary",round:""},on:{click:t.go}},[t._v("前往查看 "),i("i",{staticClass:"el-icon-d-arrow-right"})])],1)],2)],1)]):t._e(),t._v(" "),1!=t.active||t.showUpdateContract?t._e():i("transition",{attrs:{name:"el-fade-in-linear"}},[i("marketForm",{attrs:{isInsert:!0,propsRuleForm:t.ruleForm}})],1),t._v(" "),1==t.active&&t.showUpdateContract?i("transition",{attrs:{name:"el-fade-in-linear"}},[t.showUpdateContract?i("UpdateContract",{attrs:{isTempUpdate:!0,id:t.currentId},on:{complete:t.onActionComplete,onContractClose:t.onContractClose}}):t._e()],1):t._e(),t._v(" "),3==t.active&&t.previewContractVisible?i("transition",{attrs:{name:"el-fade-in-linear"}},[t.previewContractVisible?i("ShowContract",{attrs:{id:t.currentId,isInsert:!0},on:{complete:t.onActionComplete,onContractClose:function(){t.previewContractVisible=!1}}}):t._e()],1):t._e(),t._v(" "),2==t.active&&t.addBudgeVisible&&""==t.global.loadingBtn?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("addBudge",{attrs:{dialogVisible:t.addBudgeVisible,isInsertContract:!0,id:t.currentId},on:{complete:t.onActionComplete,onContractClose:t.onContractClose}})],1):t._e(),t._v(" "),2==t.active&&t.updateBudgeVisible&&""==t.global.loadingBtn?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("addBudge",{attrs:{dialogVisible:t.updateBudgeVisible,isInsertContract:!0,id:t.currentId},on:{complete:t.onActionComplete,onContractClose:t.onContractClose}})],1):t._e(),t._v(" "),3==t.active&&t.showBudgeVisible?i("transition",{attrs:{name:"el-fade-in-linear"}},[i("showBudge",{attrs:{dialogVisible:t.showBudgeVisible,id:t.currentId,isInsertMarker:!0},on:{complete:t.onActionComplete,onContractClose:t.onContractClose}})],1):t._e(),t._v(" "),i("div",{staticClass:"btnGroup"},[1!=t.active&&4!=t.active?i("p",[i("el-button",{attrs:{type:"primary",size:"medium",round:""},on:{click:t.back}},[i("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回上一步\n            ")])],1):t._e(),t._v(" "),3==t.active?i("p",[i("el-button",{attrs:{type:"success",size:"medium",loading:"previewContract"==t.global.loadingBtn,round:"",icon:"el-icon-view"},on:{click:t.previewContract}},[t._v("合 同 预 览 \n            ")])],1):t._e(),t._v(" "),3==t.active?i("p",[i("el-button",{attrs:{type:"primary",size:"medium",round:"",icon:"el-icon-edit-outline"},on:{click:t.saveContract}},[t._v("保 存 合 同 ")])],1):t._e()])],1)},staticRenderFns:[]};var C=i("vSla")(v,b,!1,function(t){i("Xb9c")},"data-v-b58b20e0",null);e.default=C.exports},Xb9c:function(t,e){},fDb3:function(t,e){}});